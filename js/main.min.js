function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-2BLQPYMTGL"),function(o){"use strict";o(window).scrollTop();function t(){var t=null,e=o(".page-wrapper .section.section-active").data("num");o(".section").each(function(){var e=o(this).attr("id");o("#"+e).is("*")&&o(window).scrollTop()>=o("#"+e).offset().top-150&&(t=e)}),o(".nav-menu ul li").removeClass("current").find('a[href*="#'+t+'"]').parent().addClass("current"),o(".page-wrapper .section").removeClass("section-active"),o("#"+t).addClass("section-active"),e!==o("#"+t).data("num")&&(e=o("#"+t).data("num"),o(".current-num span").animate({opacity:"0",left:"-5px"},150,function(){o(this).text(e).animate({opacity:"1",left:"0"},150)}))}function e(){o('.nav-menu ul li a[href^="#"], a.button, .slow-scroll').on("click",function(t){if("#"!==o(this).attr("href"))return gtag("event","entrar",{event_category:"Página",event_label:o(this).data("titulo")}),o("html, body").animate({scrollTop:o(this.hash).offset().top},1500),!1;t.preventDefault()})}function a(){o(".image-slider").each(function(){var t=o(this).data("speed"),e=o(this).data("auto"),a=o(this).data("hover");!0===e?(o(this).owlCarousel({loop:!0,autoHeight:!0,smartSpeed:1e3,autoplay:e,autoplayHoverPause:a,autoplayTimeout:t,responsiveClass:!0,items:1}),o(this).on("mouseleave",function(){o(this).trigger("stop.owl.autoplay"),o(this).trigger("play.owl.autoplay",[e])})):o(this).owlCarousel({loop:!0,autoHeight:!0,smartSpeed:1e3,autoplay:!1,responsiveClass:!0,items:1})})}o(window).on("load",function(){var i,n,s;o("html, body").on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){o("html, body").stop()}),i=o(".grid").imagesLoaded(function(){i.isotope({percentPosition:!0,itemSelector:".grid-item",masonry:{columnWidth:".grid-sizer"}})}),o(".total-pages-num").html(("0"+o(".page-wrapper .section").length).slice(-2)),n=1,o(".page-wrapper .section").each(function(){o(this).data("num",("0"+n).slice(-2)),n++}),t(),e(),function(){o(".nav-btn").on("click",function(){return o(".nav-btn, .s-nav").toggleClass("active"),!1}),o(window).width()>1200?(o(".dropdown").on("mouseenter",function(){o(this).find("ul").show("ease")}),o(".nav-list").on("mouseleave",function(){o(".dropdown ul").hide("ease")})):o(".dropdown").on("click",function(){o(this).find("ul").toggle("ease")});o(".nav-list>li>a").on("click",function(){o(window).width()<1200&&o(".s-nav, .nav-btn").toggleClass("active")})}(),o(".ajax-portfolio").on("click",function(t){t.preventDefault();var i=o(this).data("id");o(this).closest(".grid-item").addClass("portfolio-content-loading"),o("#portfolio-grid").addClass("portfoio-items-mask"),o("#pcw-"+i).length?(o("html, body").animate({scrollTop:o("#portfolio-wrapper").offset().top-150},400),setTimeout(function(){o("#portfolio-grid").addClass("hide"),setTimeout(function(){o("#pcw-"+i).addClass("show"),o(".portfolio-load-content-holder").addClass("show"),o(".grid-item").removeClass("portfolio-content-loading"),o("#portfolio-grid").hide().removeClass("portfoio-items-mask")},300)},500)):function(t){o.ajax({url:o('.ajax-portfolio[data-id="'+t+'"]').attr("href"),type:"GET",success:function(i){var n=o(i).find(".portfolio-item-wrapper").html();o(".portfolio-load-content-holder").append('<div id="pcw-'+t+'" class="portfolio-content-wrapper">'+n+"</div>"),o("#pcw-"+t+" .close-icon").length||o("#pcw-"+t).prepend('<div class="close-icon"></div>'),o("html, body").animate({scrollTop:o("#portfolio-wrapper").offset().top-150},400),setTimeout(function(){o("#pcw-"+t).imagesLoaded(function(){a(),e(),o("#portfolio-grid").addClass("hide"),setTimeout(function(){o("#pcw-"+t).addClass("show"),o(".portfolio-load-content-holder").addClass("show"),o(".grid-item").removeClass("portfolio-content-loading"),o("#portfolio-grid").hide().removeClass("portfoio-items-mask")},300),o(".close-icon").on("click",function(t){var e=o(this).closest(".portfolio-content-wrapper").attr("id").split("-")[1];o(".portfolio-load-content-holder").addClass("viceversa"),o("#portfolio-grid").css("display","block"),setTimeout(function(){o("#pcw-"+e).removeClass("show"),o(".portfolio-load-content-holder").removeClass("viceversa show"),o("#portfolio-grid").removeClass("hide")},300),setTimeout(function(){o("html, body").animate({scrollTop:o("#p-item-"+e).offset().top-150},400)},500)})})},500)}})}(i)}),o("#formulario").submit(function(t){t.preventDefault();var e=o("#email").val();if(/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(e)){var a=o(this);o.post(a.attr("action"),a.serialize()).then(function(){gtag("event","enviar",{event_category:"Contacto",event_label:o("#asunto").val()}),o("#alerta").text("Tu mensaje fue enviado correctamente.").fadeIn(900),o("input[name=nombre]").val(""),o("input[name=email]").val(""),o("input[name=asunto]").val(""),o("textarea").val(""),o("input[name=nombre]").focus(),setTimeout(function(){o("#alerta").fadeOut(900,function(){o(this).empty()})},4800)})}else o("#alerta").text("Tu email no tiene un formato válido.").fadeIn(900),o("input[name=email]").val(""),o("input[name=email]").focus(),setTimeout(function(){o("#alerta").fadeOut(900,function(){o(this).empty()})},4800)}),a(),""!==(s=location.hash)&&o(s).length?(o("html, body").animate({scrollTop:o(s).offset().top},1),o("html, body").animate({scrollTop:o(s).offset().top},1)):(o(window).scrollTop(1),o(window).scrollTop(0)),o(".doc-loader").fadeOut()}),o(window).on("resize",function(){t()}),o(window).on("scroll",function(){t()})}(jQuery);
