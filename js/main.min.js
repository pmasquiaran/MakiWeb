function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-176939797-1"),function(t){"use strict";t(window).scrollTop();function o(){var o=null,e=t(".page-wrapper .section.section-active").data("num");t(".section").each(function(){var e=t(this).attr("id");t("#"+e).is("*")&&t(window).scrollTop()>=t("#"+e).offset().top-150&&(o=e)}),t(".nav-menu ul li").removeClass("current").find('a[href*="#'+o+'"]').parent().addClass("current"),t(".page-wrapper .section").removeClass("section-active"),t("#"+o).addClass("section-active"),e!==t("#"+o).data("num")&&(e=t("#"+o).data("num"),t(".current-num span").animate({opacity:"0",left:"-5px"},150,function(){t(this).text(e).animate({opacity:"1",left:"0"},150)}))}function e(){t('.nav-menu ul li a[href^="#"], a.button, .slow-scroll').on("click",function(o){if("#"!==t(this).attr("href"))return gtag("event","entrar",{event_category:"Página",event_label:t(this).data("titulo")}),t("html, body").animate({scrollTop:t(this.hash).offset().top},1500),!1;o.preventDefault()})}function a(){t(".skill-fill")[0]&&t(".skill-fill:not(.animation-done").each(function(o){var e=t(this).offset().top;t(window).scrollTop()+t(window).height()-70>e&&(t(this).width(t(this).data("fill")),t(this).addClass("animation-done"))})}function i(){t(".image-slider").each(function(){var o=t(this).data("speed"),e=t(this).data("auto"),a=t(this).data("hover");!0===e?(t(this).owlCarousel({loop:!0,autoHeight:!0,smartSpeed:1e3,autoplay:e,autoplayHoverPause:a,autoplayTimeout:o,responsiveClass:!0,items:1}),t(this).on("mouseleave",function(){t(this).trigger("stop.owl.autoplay"),t(this).trigger("play.owl.autoplay",[e])})):t(this).owlCarousel({loop:!0,autoHeight:!0,smartSpeed:1e3,autoplay:!1,responsiveClass:!0,items:1})})}t(window).on("load",function(){var n,s,l;t("html, body").on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){t("html, body").stop()}),n=t(".grid").imagesLoaded(function(){n.isotope({percentPosition:!0,itemSelector:".grid-item",masonry:{columnWidth:".grid-sizer"}})}),t(".total-pages-num").html(("0"+t(".page-wrapper .section").length).slice(-2)),s=1,t(".page-wrapper .section").each(function(){t(this).data("num",("0"+s).slice(-2)),s++}),o(),e(),function(){t(".nav-btn").on("click",function(){return t(".nav-btn, .s-nav").toggleClass("active"),!1}),t(window).width()>1200?(t(".dropdown").on("mouseenter",function(){t(this).find("ul").show("ease")}),t(".nav-list").on("mouseleave",function(){t(".dropdown ul").hide("ease")})):t(".dropdown").on("click",function(){t(this).find("ul").toggle("ease")});t(".nav-list>li>a").on("click",function(){t(window).width()<1200&&t(".s-nav, .nav-btn").toggleClass("active")})}(),a(),t(".ajax-portfolio").on("click",function(o){o.preventDefault();var a=t(this).data("id");t(this).closest(".grid-item").addClass("portfolio-content-loading"),t("#portfolio-grid").addClass("portfoio-items-mask"),t("#pcw-"+a).length?(t("html, body").animate({scrollTop:t("#portfolio-wrapper").offset().top-150},400),setTimeout(function(){t("#portfolio-grid").addClass("hide"),setTimeout(function(){t("#pcw-"+a).addClass("show"),t(".portfolio-load-content-holder").addClass("show"),t(".grid-item").removeClass("portfolio-content-loading"),t("#portfolio-grid").hide().removeClass("portfoio-items-mask")},300)},500)):function(o){t.ajax({url:t('.ajax-portfolio[data-id="'+o+'"]').attr("href"),type:"GET",success:function(a){var n=t(a).find(".portfolio-item-wrapper").html();t(".portfolio-load-content-holder").append('<div id="pcw-'+o+'" class="portfolio-content-wrapper">'+n+"</div>"),t("#pcw-"+o+" .close-icon").length||t("#pcw-"+o).prepend('<div class="close-icon"></div>'),t("html, body").animate({scrollTop:t("#portfolio-wrapper").offset().top-150},400),setTimeout(function(){t("#pcw-"+o).imagesLoaded(function(){i(),e(),t("#portfolio-grid").addClass("hide"),setTimeout(function(){t("#pcw-"+o).addClass("show"),t(".portfolio-load-content-holder").addClass("show"),t(".grid-item").removeClass("portfolio-content-loading"),t("#portfolio-grid").hide().removeClass("portfoio-items-mask")},300),t(".close-icon").on("click",function(o){var e=t(this).closest(".portfolio-content-wrapper").attr("id").split("-")[1];t(".portfolio-load-content-holder").addClass("viceversa"),t("#portfolio-grid").css("display","block"),setTimeout(function(){t("#pcw-"+e).removeClass("show"),t(".portfolio-load-content-holder").removeClass("viceversa show"),t("#portfolio-grid").removeClass("hide")},300),setTimeout(function(){t("html, body").animate({scrollTop:t("#p-item-"+e).offset().top-150},400)},500)})})},500)}})}(a)}),t("[data-jarallax-element]").jarallax({speed:.2}),t('.contact-form [type="submit"]').on("click",function(){var o=t("#contact-email").val();if(/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(o)){var e={action:"SendMessage",name:t("#name").val(),email:t("#contact-email").val(),subject:t("#subject").val(),message:t("#message").val()};t.ajax({type:"POST",url:"https://osborn.cl/pmasquiaran/php/sendMail.php",data:e,beforeSend:function(o){t("#alerta").css({visibility:"visible"})},success:function(o){if(o){var e=t.parseJSON(o);e.ResponseData&&(gtag("event","enviar",{event_category:"Contacto",event_label:t("#subject").val()}),t("input[name=your-name]").val(""),t("input[name=your-email]").val(""),t("input[name=your-subject]").val(""),t("textarea").val(""),t("input[name=your-name]").focus(),t("#alerta").text(e.ResponseData).fadeIn(900),setTimeout(function(){t("#alerta").fadeOut(900,function(){t(this).empty()})},3600))}},error:function(o,e,a){var i=null;switch(o.status){case"301":i="¡Error de redirección!";break;case"307":i="¡Error, redirección temporal del servidor!";break;case"400":i="¡Solicitud incorrecta!";break;case"404":i="¡Página no encontrada!";break;case"500":i="¡El servidor actualmente no está disponible!";break;default:i="Error inesperado. Vuelve a intentarlo más tarde."}i&&(t("#alerta").text(i).fadeIn(900),setTimeout(function(){t("#alerta").fadeOut(900,function(){t(this).empty()})},3600))}})}else t("#alerta").text("Tu email no tiene un formato válido.").fadeIn(900),setTimeout(function(){t("#alerta").fadeOut(900,function(){t(this).empty()})},3600)}),i(),""!==(l=location.hash)&&t(l).length?(t("html, body").animate({scrollTop:t(l).offset().top},1),t("html, body").animate({scrollTop:t(l).offset().top},1)):(t(window).scrollTop(1),t(window).scrollTop(0)),t(".doc-loader").fadeOut()}),t(window).on("resize",function(){a(),o()}),t(window).on("scroll",function(){a(),o()})}(jQuery);